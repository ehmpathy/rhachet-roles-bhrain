# blackbox criteria matrix: init.research

## matrix.1 = initialization

| ind: dir exists | ind: --dir flag | dep: result | dep: location |
|-----------------|-----------------|-------------|---------------|
| no | absent | success | `{cwd}/.research/v{isodate}.{name}/` |
| no | present | success | `{path}/.research/v{isodate}.{name}/` |
| yes | absent | error | n/a |
| yes | present | error | n/a |

**outcomes on success:**
- `0.wish.md` created
- `1.probes.aim.src` created
- `2.probes.emit.src` created
- `3.probes.absorb.src` created
- `4.probes.remit.src` created
- `5.briefs.curate.src` created
- `.bind/{user}.{name}.flag` created

---

## matrix.2 = thoughtroute phases

| ind: phase | ind: prereq artifacts | dep: input | dep: output |
|------------|----------------------|------------|-------------|
| 1. aim | `0.wish.md` filled | research question | `1.probes.aim.md`, `probes/*.definition.md` |
| 2. emit | `probes/*.definition.md` | probe definitions | `probes/*.findings.md` |
| 3. absorb | `probes/*.findings.md` | probe findings | `distill.kernels.md`, `distill.clusters.md`, `distill.gaps.md` |
| 4. remit | `distill.gaps.md` | detected gaps | supplemental `probes/*.findings.md` |
| 5. curate | `distill.*.md` | distillations | `output.briefs/{domain}/*.md` |

**phase sequence enforced by artifact dependencies** — each phase requires prior phase output

---

## matrix.3 = absorb sub-phases (distillation sequence)

| ind: step | ind: prereq | dep: output | dep: content |
|-----------|-------------|-------------|--------------|
| 1. kernels | probe findings | `distill.kernels.md` | facts, assumptions, claims, questions, opinions |
| 2. clusters | kernels | `distill.clusters.md` | topics clustered, treestruct with cross-links |
| 3. gaps | clusters | `distill.gaps.md` | explicit, implicit, symmetric omissions |

**strict sequence:** kernels → clusters → gaps

---

## matrix.4 = brief output structure

| ind: domain | ind: tier | dep: code prefix | dep: example file |
|-------------|-----------|------------------|-------------------|
| knowledge | 101 | `kno` | `kno101.primitives._.[catalog].md` |
| knowledge | 201 | `kno` | `kno201.documents._.[article].md` |
| consensus | 101 | `cons` | `cons101.fundamentals._.[catalog].md` |
| consensus | 201 | `cons` | `cons201.paxos._.[article].md` |
| consensus | 301 | `cons` | `cons301.byzantine._.[article].md` |
| {domain} | {tier} | {code} | `{code}{tier}.{subtopic}._.[doctype].md` |

**doctypes:** `[article]`, `[catalog]`, `[demo]`, `[lesson]`

---

## matrix.5 = resumability

| ind: phase complete | ind: artifacts present | dep: can resume | dep: resume point |
|--------------------|------------------------|-----------------|-------------------|
| none | `0.wish.md` only | yes | aim phase |
| aim | `probes/*.definition.md` | yes | emit phase |
| emit | `probes/*.findings.md` | yes | absorb phase |
| absorb | `distill.*.md` | yes | remit or curate phase |
| remit | supplemental findings | yes | absorb (re-run) or curate |
| curate | `output.briefs/**` | yes | complete (extend or refine) |

**all artifacts persist** — no work lost on pause

---

## gaps identified

none — all meaningful combinations covered

## decomposition notes

- **phase matrix is linear** — no explosion, each phase has single prereq
- **absorb sub-phases form strict sequence** — 3 steps, well-bounded
- **brief structure is parameterized** — domain × tier, scales cleanly

no decomposition needed — boundaries are appropriately scoped
