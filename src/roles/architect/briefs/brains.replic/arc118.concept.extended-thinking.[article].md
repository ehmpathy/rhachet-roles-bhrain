# extended-thinking

## .what

a capability that allows an llm to allocate additional computation (serial test-time compute) to reasoning before producing a final response, controlled by a token budget.

## .why

extended thinking enables "thinking harder" about complex problems. by giving the model a dedicated budget for internal reasoning, it can explore approaches, verify its work, and catch errors before committing to an answer. this is particularly valuable for coding, math, and analysis tasks.

## dependsOn

- `llm` — must support thinking mode
- `reasoning-trace` — thinking produces traces
- `context-window` — thinking consumes budget tokens

## mechanism

```
[User Query]
       │
       ↓
[Extended Thinking: up to N tokens]
  - "Let me consider the approaches..."
  - "First approach: ..."
  - "Wait, that won't work because..."
  - "Better approach: ..."
       │
       ↓
[Final Response: informed by thinking]
```

## key characteristics

- **token budget**: user specifies max thinking tokens (1k-128k)
- **hybrid mode**: can be toggled on/off per request
- **serial compute**: sequential reasoning steps
- **varying visibility**: thinking may be hidden or shown

## budget guidelines

| budget | suitable for |
|--------|--------------|
| 1k-4k | simple analysis |
| 4k-16k | moderate complexity |
| 16k-64k | complex coding/math |
| 64k-128k | deep research |

## integration with tools

extended thinking can be combined with tool use:
- think before deciding which tools to use
- think after receiving tool results
- "think" tool forces explicit reasoning pause

## vs other patterns

| pattern | mechanism |
|---------|-----------|
| CoT | inline reasoning in response |
| ToT | explore multiple branches |
| Extended thinking | dedicated compute budget |
| Self-consistency | multiple samples, voting |

## sources

- [Claude's Extended Thinking](https://www.anthropic.com/news/visible-extended-thinking) — announcement
- [Using Extended Thinking](https://support.claude.com/en/articles/10574485-using-extended-thinking) — documentation
- [The "think" Tool](https://www.anthropic.com/engineering/claude-think-tool) — tool integration
