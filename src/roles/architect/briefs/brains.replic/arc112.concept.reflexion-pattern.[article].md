# reflexion-pattern

## .what

an agent architecture that adds explicit self-reflection after task attempts, storing verbal feedback in memory to improve performance on subsequent trials through "verbal reinforcement learning."

## .why

reflexion addresses a key limitation of single-attempt agents: they cannot learn from their mistakes within a session. by reflecting on failures and storing insights, the agent can iteratively improve without weight updates. this enables rapid adaptation and higher eventual success rates.

## dependsOn

- `agentic-loop` — base execution pattern
- `reasoning-trace` — reflection is a form of reasoning
- `context-window` — stores reflection memory

## pattern structure

```
Attempt 1:
  [Execute task]
  Result: Failed (test case 3)

Reflection:
  "I failed because I didn't handle the edge case where
   the input is empty. Next time I should check for
   empty inputs before processing."

Attempt 2:
  [Execute task with reflection in context]
  Result: Passed
```

## key components

| component | purpose |
|-----------|---------|
| actor | executes actions in environment |
| evaluator | scores trajectory (success/failure) |
| self-reflection | generates verbal feedback |
| memory | stores reflections for future attempts |

## benchmark performance

| benchmark | improvement |
|-----------|-------------|
| ALFWorld | +22% success rate with reflection |
| HotPotQA | improved accuracy over baseline ReAct |
| programming | higher pass rates on iterative debugging |

## vs other patterns

| pattern | learns from failure? | mechanism |
|---------|---------------------|-----------|
| ReAct | no | single attempt |
| Reflexion | yes | verbal memory |
| LATS | yes | tree search with backtracking |

## implementation notes

- reflection is stored as text in context or external memory
- number of attempts typically capped (e.g., 3-5)
- works best when failure modes are diverse

## sources

- [Reflexion: Language Agents with Verbal Reinforcement Learning](https://arxiv.org/abs/2303.11366) — original paper
- [AgentBench](https://arxiv.org/abs/2308.03688) — benchmark including reflexion variants
