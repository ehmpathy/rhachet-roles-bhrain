# usecase.1 = architect role exists

given('the wish to document replic brain architectures')
  when('the role is created')
    then('src/roles/architect/ directory exists')
    then('src/roles/architect/readme.md declares purpose as brain architecture expertise')
    then('src/roles/architect/briefs/brains.replic/ directory exists')
      sothat('replic brain knowledge has a canonical home')


# usecase.2 = exhaustive literature search is conducted

given('the architect role exists')
  when('literature is surveyed')
    then('academic papers on agentic architectures are discovered and reviewed')
    then('official documentation from major replic brain providers is gathered')
    then('blog posts, talks, and technical deep-dives are identified')
    then('the search covers current state-of-the-art (2024-2025)')
      sothat('the research is grounded in the full landscape of available knowledge')


# usecase.3 = research catalog brief exists

given('literature search is complete')
  when('citations are aggregated')
    then('a [catalog] brief exists listing all research cited across all briefs')
    then('each citation includes: title, authors, url, date, and brief relevance note')
    then('citations are organized by topic or concept area')
      sothat('the full body of research is navigable in one place')


# usecase.4 = atomic concept briefs exist

given('literature search is complete')
  when('atomic concepts are distilled from the research')
    then('each atomic concept discovered has its own brief')
    then('each brief defines the concept with clear, singular meaning')
    then('each brief includes collocated sources supporting its claims')
    then('no concept is left undefined or ambiguous')
      sothat('every building block of the architecture is explicitly documented')


# usecase.5 = treestruct brief exists

given('atomic concept briefs exist')
  when('the treestruct is documented')
    then('a brief exists showing how atomic concepts compose into the full architecture')
    then('the treestruct shows dependency order from primitives to composites')
    then('the treestruct is navigable via links to atomic concept briefs')
      sothat('the hierarchy from primitives to full brain is explicit')


# usecase.6 = replic brain architecture blueprints are distilled

given('atomic concepts and treestruct are documented')
  when('blueprints are authored')
    then('a claude-code blueprint brief exists')
    then('at least one alternative blueprint brief exists (e.g., codex, devin, aider, cursor)')
    then('each blueprint includes pseudocode for the core agentic loop')
    then('each blueprint shows: prompt parsing → tool selection → execution → result integration')
    then('each blueprint documents context management strategy')
    then('each blueprint documents decision flow from user input to tool invocation')
    then('each blueprint includes collocated sources supporting its claims')
      sothat('architectures are reproducible from documentation alone')


# usecase.7 = comparison brief exists

given('replic brain architecture blueprints are distilled')
  when('comparison is documented')
    then('a [catalog] brief exists mapping similarities and differences across blueprints')
    then('the comparison surfaces shared patterns vs divergent approaches')
      sothat('claude-code is contextualized within the broader landscape')


# usecase.8 = briefs follow knowledge patterns

given('briefs are authored')
  when('structure is verified against src/roles/thinker/briefs/knowledge patterns')
    then('[article] briefs exist for definitional treatments of concepts')
    then('[catalog] briefs exist for organizational mappings of related concepts')
    then('[demo] briefs exist showing concrete instances exemplifying concepts')
    then('[lesson] briefs exist for pedagogical guidance on learning concepts')
    then('sources are collocated inline within each brief, not in a separate document')
      sothat('knowledge follows the established document archetypes')
