# blackbox criteria matrix: route.drive

## matrix.1 = route.drive onStop behavior

| ind: route bound | ind: stones remain | dep: action | dep: shows command |
|------------------|-------------------|-------------|-------------------|
| yes | yes | echo current stone | yes |
| yes | no (all passed) | indicate complete | no |
| no | n/a | no-op | no |

**gaps**: none — all combinations covered

---

## matrix.2 = route.stone.set --as passed behavior

| ind: has review.self | ind: promise state | dep: passage | dep: echoes guide | dep: shows promise cmd |
|---------------------|-------------------|--------------|-------------------|----------------------|
| yes | none | blocked | yes (first) | yes |
| yes | some | blocked | yes (next unpromised) | yes |
| yes | all | proceeds | no | no |
| no | n/a | proceeds | no | no |

**gaps**: none — all combinations covered

---

## matrix.3 = route.stone.set --as promised behavior

| ind: slug valid | dep: promise recorded | dep: acknowledged | dep: echoes next step |
|----------------|----------------------|-------------------|----------------------|
| yes | yes | yes | yes |
| no | no | no (rejected) | yes (valid options) |

**gaps**: none — all combinations covered

---

## matrix.4 = promise invalidation on source change

| ind: promises extant | ind: source changed | dep: promises valid | dep: requires fresh |
|---------------------|--------------------|--------------------|-------------------|
| yes | no | yes | no |
| yes | yes | no (invalidated) | yes |
| no | n/a | n/a | n/a |

**gaps**: none — all combinations covered

---

## matrix.5 = review.self.say expansion

| ind: say format | dep: expansion method | dep: echoed content |
|----------------|----------------------|-------------------|
| inline text | use directly | the inline text |
| @path/to/brief.md | expand path to content | the expanded file content |

**gaps**: none — all combinations covered

---

## decomposition analysis

all matrices have 2-3 independent dimensions — well within manageable scope.

no decomposition opportunities identified:
- each matrix is focused on a single behavioral boundary
- no matrix exceeds 4 rows
- concerns are cleanly separated

the behavioral boundaries are appropriately narrow.
