# vision: init.research skill

## the outcome world

### day-in-the-life with init.research

a thinker encounters a new domain they need to understand â€” say, "distributed consensus algorithms" or "how supply chains handle disruptions" or "domain-driven design patterns."

today: they open a browser, search haphazardly, read articles, take scattered notes, forget half of what they learned, and never quite feel like they've truly understood.

after: they run one command:

```sh
npx rhachet run --repo bhrain --role librarian --skill init.research --name consensus-algorithms
```

a `.research/v2026_02_09.consensus-algorithms/` directory appears with a structured thoughtroute. the thinker follows the route:

1. **probes.aim** â€” the thinker articulates 21+ questions, divergent inquiry paths, and parallel domains to explore (what can biology teach us about consensus? what about economics? politics?)

2. **probes.emit** â€” parallel agents fan out, each to investigate a probe. each writes findings to `.research/.../probes/probe-001.findings.md`, etc.

3. **probes.absorb** â€” the findings flow into comprehension artifacts:
   - `distill.kernels.md` â€” facts, assumptions, claims, questions, opinions extracted
   - `distill.clusters.md` â€” kernels clustered by disjoint topics, layered by abstraction, with treestruct of hierarchical relationships via `[$ref(xyz)]` cross-links
   - `distill.gaps.md` â€” explicit omissions, implicit omissions, symmetric omissions

4. **probes.remit** â€” supplemental probes fill gaps detected in absorption

5. **briefs.curate** â€” knowledge flows into `.research/.../output.briefs/` as structured briefs:
   - `consensus/cons101.fundamentals._.[catalog].md`
   - `consensus/cons201.paxos._.[article].md`
   - `consensus/cons201.raft._.[article].md`
   - `consensus/cons301.comparison._.[article].frame.practical_tradeoffs.md`

the thinker now has **externalized, structured, reusable knowledge** â€” not scattered notes.

### before/after contrast

| before | after |
|--------|-------|
| scattered browser tabs | structured `.research/` directory |
| forgotten insights | structured briefs in `.research/.../output.briefs/` |
| linear search | divergent probes across parallel domains |
| "i read about this once" | `cons101.fundamentals._.[catalog].md` ready to reference |
| research restarts from scratch each time | accumulated knowledge compounds |

### the "aha" moment

the "aha" clicks when the thinker realizes: **the research is now portable.** another thinker in another session can pick up the `.research/` directory and immediately understand:
- what questions were asked
- what was discovered
- what gaps remain
- what was distilled into briefs

research becomes a **collaborative artifact**, not ephemeral browser history.

---

## user experience

### usecases and goals

| usecase | goal |
|---------|------|
| **new domain exploration** | build foundational comprehension of unfamiliar territory |
| **decision support** | research options before architectural/design choices |
| **knowledge capture** | externalize expert knowledge into reusable briefs |
| **gap analysis** | systematically discover what is unknown about a topic |
| **cross-domain synthesis** | find analogies and patterns across parallel domains |

### contract inputs & outputs

**init.research skill**

inputs:
- `--name <researchname>` â€” slug for the research directory
- `--dir <directory>` â€” target directory (defaults to cwd)
- `--open <editor>` â€” optional: open wish file in editor

outputs:
- `.research/v{isodate}.{name}/` directory with:
  - `0.wish.md` â€” research question/scope
  - `1.probes.aim.src` â€” template to articulate probes
  - `2.probes.emit.src` â€” template to dispatch probes
  - `3.probes.absorb.src` â€” template for comprehension
  - `4.probes.remit.src` â€” template for supplementation
  - `5.briefs.curate.src` â€” template for externalization
  - `.bind/` â€” branch bind (like init.behavior)

**thoughtroute artifacts**

| phase | input | output |
|-------|-------|--------|
| 1. aim | research wish | `probes/` directory with probe definitions |
| 2. emit | probe definitions | `probes/probe-NNN.findings.md` for each probe |
| 3. absorb | probe findings | `distill.kernels.md`, `distill.clusters.md`, `distill.gaps.md` |
| 4. remit | gaps from absorb | supplemental findings |
| 5. curate | distillations | `output.briefs/{domain}/{code}XXX.{subtopic}.[doctype].md` |

### timelines

```
[minute 0]   init.research --name topic-x
[minute 1]   thinker fills 0.wish.md with research scope
[minute 5]   probes.aim: articulate 21+ questions, divergent paths
[minute 10]  probes.emit: parallel agents dispatch (can run hours)
[minute 60+] probes.absorb: comprehension synthesis
[minute 90]  probes.remit: fill gaps (optional iteration)
[minute 120] briefs.curate: externalize to knowledge briefs
```

the thoughtroute can be paused and resumed â€” each phase produces artifacts that persist.

---

## mental model

### how users describe this

> "it's like a research assistant that asks the right questions, explores multiple angles, organizes what it finds, identifies gaps, and writes up the results in a reusable format."

> "it's systematic research â€” not just search around and hope for luck."

> "it turns ephemeral browser activity into permanent knowledge."

### analogies and metaphors

| metaphor | fit |
|----------|-----|
| **library research session** | you formulate questions, dispatch to stacks, synthesize findings, write a report |
| **scientific method** | hypothesis â†’ experiment (probes) â†’ analysis â†’ conclusions |
| **sonar/radar** | emit probes, absorb echoes, form a picture of the terrain |
| **garden cultivation** | plant probes, tend findings, harvest briefs |

### terminology: user vs internal

| user term | internal term | notes |
|-----------|---------------|-------|
| "research topic" | `researchName` | the slug |
| "questions" | probes | what we investigate |
| "findings" | probe artifacts | what each probe discovered |
| "summary" | distillation | facts/claims/gaps extracted |
| "notes" | briefs | permanent knowledge artifacts |

**brief name pattern**: `{code}XXX.{subtopic}._.[doctype].{variant}.md`
- `{code}` â€” topic-specific prefix like college course codes (e.g., `kno`=knowledge, `cons`=consensus, `scm`=supply-chain, `ddd`=domain-driven-design)
- `XXX` â€” tier within topic (101=fundamentals, 201=intermediate, 301=advanced, 401=meta)
- `{subtopic}` â€” hierarchical path (`_` = category overview)
- `[doctype]` â€” `[article]`, `[catalog]`, `[demo]`, `[lesson]`
- `{variant}` â€” optional frame/perspective (e.g., `frame.practical_tradeoffs`)

---

## evaluation

### how well does it solve the goals?

| goal | solution quality |
|------|------------------|
| **systematic exploration** | âœ“ probes.aim enforces breadth (21+ questions, divergent paths) |
| **parallel investigation** | âœ“ probes.emit sends parallel agents |
| **knowledge organization** | âœ“ probes.absorb creates hierarchical catalogs |
| **gap detection** | âœ“ distill.gaps.md surfaces omissions |
| **reusable output** | âœ“ briefs.curate produces permanent knowledge briefs |
| **pausable/resumable** | âœ“ artifact-based phases persist state |

### pros

- **structured** â€” never "what did i research again?"
- **divergent** â€” parallel domains surface unexpected insights
- **incremental** â€” probes can run over days/weeks
- **portable** â€” `.research/` dirs can be shared, resumed, extended
- **compounds** â€” briefs accumulate in `output.briefs/`

### cons

- **upfront effort** â€” articulate 21+ probes requires thought
- **parallel agent cost** â€” many probes = many llm calls
- **absorption complexity** â€” synthesize diverse findings is hard
- **brief quality** â€” garbage probes â†’ garbage briefs

### edgecases and pit of success

| edgecase | pit of success design |
|----------|----------------------|
| user asks vague question | probes.aim template forces specificity with 21+ question minimum |
| probes return garbage | absorb phase has distill.gaps.md to flag incoherence |
| user abandons mid-research | all phases produce artifacts; can resume later |
| parallel domain probes irrelevant | absorb phase clusters by topic; irrelevant clusters become obvious |
| briefs duplicated across researches | librarian owns briefs; can dedupe via catalog |

---

## architecture notes

### librarian role owns init.research

the librarian role:
- owns research thoughtroutes
- owns the patterns that guide brief creation
- produces output briefs in `.research/{dir}/output.briefs/`

what happens to output briefs after research completes is out of scope for this skill.

### directory structure

```
src/domain.roles/librarian/
â”œâ”€â”€ briefs/                              # patterns that guide brief creation
â”‚   â””â”€â”€ define.brief-name-pattern.[article].md
â”œâ”€â”€ skills/
â”‚   â””â”€â”€ init.research.sh                 # the skill
â””â”€â”€ getLibrarianRole.ts
```

### research directory structure

```
.research/
â””â”€â”€ v2026_02_09.consensus-algorithms/
    â”œâ”€â”€ 0.wish.md
    â”œâ”€â”€ 1.probes.aim.src
    â”œâ”€â”€ 1.probes.aim.md            # emitted by thinker
    â”œâ”€â”€ 2.probes.emit.src
    â”œâ”€â”€ probes/
    â”‚   â”œâ”€â”€ probe-001.definition.md
    â”‚   â”œâ”€â”€ probe-001.findings.md
    â”‚   â”œâ”€â”€ probe-002.definition.md
    â”‚   â””â”€â”€ probe-002.findings.md
    â”œâ”€â”€ 3.probes.absorb.src
    â”œâ”€â”€ distill.kernels.md
    â”œâ”€â”€ distill.clusters.md
    â”œâ”€â”€ distill.gaps.md
    â”œâ”€â”€ 4.probes.remit.src
    â”œâ”€â”€ 5.briefs.curate.src
    â”œâ”€â”€ output.briefs/
    â”‚   â””â”€â”€ consensus/             # domain dir
    â”‚       â”œâ”€â”€ cons101.fundamentals._.[catalog].md
    â”‚       â”œâ”€â”€ cons201.paxos._.[article].md
    â”‚       â””â”€â”€ cons201.raft._.[article].md
    â””â”€â”€ .bind/
        â””â”€â”€ vlad.consensus-algorithms.flag
```

---

## cli output format

the init.research skill outputs in a tree-style format, mirrors bhuild's init.behavior but with owl (ðŸ¦‰) mascot for bhrain.

### expected output

```
ðŸ¦‰ who researches?
   â”œâ”€ + 0.wish.md
   â”œâ”€ + 1.1.probes.aim.internal.stone
   â”œâ”€ + 1.2.probes.aim.external.stone
   â”œâ”€ + 1.3.probes.aim.blend.stone
   â”œâ”€ + 2.probes.emit.stone
   â”œâ”€ + 3.1.probes.absorb.kernels.stone
   â”œâ”€ + 3.2.probes.absorb.clusters.stone
   â”œâ”€ + 3.3.probes.absorb.gaps.stone
   â”œâ”€ + 4.probes.remit.stone
   â”œâ”€ + 5.1.briefs.curate.blueprint.stone
   â””â”€ + 5.2.briefs.curate.execute.stone

ðŸŒ³ hunt it down,
   â”œâ”€ .research/v2026_02_09.consensus-algorithms/0.wish.md
   â””â”€ tip: use --open to open the wish automatically

ðŸ¦‰ we'll remember,
   â”œâ”€ branch vlad/init-research <-> research v2026_02_09.consensus-algorithms
   â””â”€ branch bound to research, to boot via hooks
```

### output symbols

| symbol | definition |
|--------|------------|
| `+` | created (new file) |
| `âœ“` | kept (file already existed) |
| `â†»` | updated (file was refreshed) |

### output sections

| section | emoji | purpose |
|---------|-------|---------|
| file tree | ðŸ¦‰ who researches? | show files created/kept/updated |
| wish path | ðŸŒ³ hunt it down, | show path to wish file and opener tip |
| bind confirm | ðŸ¦‰ we'll remember, | confirm branch <-> research bind |

### with --open flag

when `--open <editor>` is provided and successful:

```
ðŸŒ³ hunt it down,
   â”œâ”€ .research/v2026_02_09.consensus-algorithms/0.wish.md
   â””â”€ opened in codium
```

### idempotent re-run

when research already exists and templates are kept:

```
ðŸ¦‰ who researches?
   â”œâ”€ âœ“ 0.wish.md
   â”œâ”€ âœ“ 1.1.probes.aim.internal.stone
   â”œâ”€ âœ“ 1.2.probes.aim.external.stone
   ...
   â””â”€ âœ“ 5.2.briefs.curate.execute.stone

ðŸŒ³ hunt it down,
   â”œâ”€ .research/v2026_02_09.consensus-algorithms/0.wish.md
   â””â”€ tip: use --open to open the wish automatically

ðŸ¦‰ we'll remember,
   â”œâ”€ branch vlad/init-research <-> research v2026_02_09.consensus-algorithms
   â””â”€ branch bound to research, to boot via hooks
```

---

## awkward bits uncovered

1. **21 probes is arbitrary** â€” might need tune per domain complexity
2. **parallel agents coordination** â€” how do we ensure no duplicate probes?
3. **absorb is the hardest phase** â€” synthesis across diverse probes is cognitively intense
4. **brief name conventions** â€” follows `{code}XXX.{subtopic}._.[doctype].{variant}.md` pattern
5. **when to stop remit** â€” diminished returns on gap-fill
6. **symlink portability** â€” relative symlink must work across `rhachet roles link`
